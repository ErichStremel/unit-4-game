// create global variables
// wins, losses, goalNumber, userscore

//create variable for images for 4 different crystals that are generated by an array
// example: var images = ["assets/crystal1", "assets/crystal2"]

// Global variables

var userScore = 0;
var wins = 0;
var losses = 0;
var goalNumber = Math.floor(Math.random() * Math.floor(102) + 19);
var crystalValue
$("#number-to-guess").text(goalNumber);



//Function 1 Notes:
//create variable for images for 4 different crystals that are generated by an array
// example: var images = ["assets/crystal1", "assets/crystal2"]
//set goalNumber with math.random
// loop through array of 4 images
//can really do this using one function
//for every index create image on screen
//add class to image so we can click on it. 
//make sure to use this attribute
//add src
// add crystal value as attribute
//append image to screen


//Function for image creation with associated random values***

function makeImages() {
    // make this array your image sources
    var images = ["assets/images/Arkenstone.jpg", "assets/images/bluecrystal.png", "assets/images/rupee.png", "assets/images/Skyrim_ruby.png"];
    $(".divContainer").html(' ')
    for (var i = 0; i < images.length; i++) {
        // uses jquery to create page element; create a <div> on the page to append these to.
        var crystalImage = $("<img>");
        // you have define the image source (which is the array)
        crystalImage.attr("src", images[i]);
        //jquery method to add a class, want to do this so we have a attritube to create our click event on.
        crystalImage.addClass('crystal');
        // this is creating an id to reference the the reset later.
        crystalImage.attr('id', i)
        //add an attribute that generates a random number. this example is between 1 and 10. 
        crystalImage.attr('crystalVal', Math.floor(Math.random() * 12) + 1);
        // class and id are both attributes, if you want to add an id to each
        // append them to eachother on the screen
        $(".divContainer").append(crystalImage);
        // need to create a random number as your goal

    }
}
// reset function to call upon when you win or lose. 
function reset() {
    //makeImages ();
    for (var i = 0; i < 4; i++) {
        var img = $(`#${i}`);
        img.attr('crystalVal', (Math.floor(Math.random() * 12) + 1));
    }
    $("#yourScore").text("0");
    userScore = 0
    goalNumber = Math.floor(Math.random() * Math.floor(102) + 19);

}


//now we need to call the function to make it work.
// this is the main process function
makeImages();

// now we need to create a click event on crystals
// use $(this).attr to capture value attribute
// now we want to add this clicked value to the userscore so it accumulates

$(".crystal").on('click', function () {
    // console.log(this);
    // console.log($(this).attr);

    crystalValue = ($(this).attr("crystalVal"));
    crystalValue = parseInt(crystalValue);
    // We then add the crystalValue to the user's "counter" which is a global variable.
    // Every click, from every crystal adds to the global counter.
    userScore += crystalValue;
    // console.log(userScore);

    $("#yourScore").text(userScore);

    //now create conditions to check for win or loss using if statements
    //if win or loss restart game and increment wins or losses
    if (userScore > goalNumber) {
        losses++;
        reset();
    } else if (userScore == goalNumber) {
        wins++;
        reset();
    }

    $("#wins").text(wins);
    $("#losses").text(losses);

});
